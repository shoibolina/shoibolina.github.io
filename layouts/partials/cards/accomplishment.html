{{/* Build accomplishment categories for filtering */}}
{{ $accCats := slice "acc-all" }}
{{ with .categories }}
  {{ range . }}
    {{ $accCats = $accCats | append (printf "acc-%s" (lower .)) }}
  {{ end }}
{{ end }}

<style>
  /* Only affects this section’s cards */
  #acc-card-holder .card-img-top{
    max-height:300px; width:100%; object-fit:cover;
  }
  #acc-card-holder .card:hover .card-img-top{
    transform:none !important; transition:none !important;
  }
</style>

<div class="col-md-12 col-lg-6 p-2 acc-filtr-item"
     data-category='{{ delimit $accCats "," }}'>
  <div class="card mt-3">

    {{/* ---------- Full-width image on top ---------- */}}
    {{ with .image }}
      {{ $val := . }}
      {{ if hasPrefix $val "/" }}
        <img class="card-img-top" loading="lazy" src="{{ $val | relURL }}" alt="{{ $.name }}">
      {{ else }}
        {{ $path := printf "images/sections/accomplishments/%s" $val }}
        {{ with resources.Get $path }}
          {{ $ext := lower (path.Ext .Name) }}
          {{ if eq $ext ".gif" }}
            <img class="card-img-top" loading="lazy" src="{{ .RelPermalink }}" alt="{{ $.name }}">
          {{ else }}
            {{ $hero := .Fit "1200x630 q80 webp" }}
            <img class="card-img-top" loading="lazy" src="{{ $hero.RelPermalink }}" alt="{{ $.name }}">
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}

    <div class="card-body">
      <h5 class="card-title mt-2 mb-1">{{ .name }}</h5>

      <div class="sub-title mb-2">
        {{ with .organization }}
          <a href="{{ .url }}" target="_blank" rel="noopener">{{ .name }}</a>
        {{ end }}
        {{ with .timeline }}
          <span class="ms-2">{{ . }}</span>
        {{ end }}
      </div>

      {{ with .courseOverview }}
        <p>{{ . | markdownify }}</p>
      {{ end }}

      <div class="tags">
        {{ range $i,$tag := .tags }}
          <span class="btn badge btn-info ms-1 p-2">{{ $tag }}</span>
        {{ end }}
      </div>
    </div>

    {{ if .certificateURL }}
      <div class="card-footer">
        <a class="btn btn-outline-info" href="{{ .certificateURL }}" target="_blank" rel="noopener">
          {{ i18n "project_details" }}
        </a>
      </div>
    {{ end }}
  </div>
</div>


<!-- {{/* Build category tokens like Publications uses */}}
{{ $dataCategories := slice "pub-all" }}
{{ range .categories }}
  {{ $dataCategories = $dataCategories | append (printf "pub-%s" (lower .)) }}
{{ end }}

<style>
  #accomplishment-card-holder .card-img-top{max-height:300px;width:100%;object-fit:cover;}
  #accomplishment-card-holder .card:hover .card-img-top{transform:none!important;transition:none!important;}
</style>

<div class="col-md-12 col-lg-6 p-2 pub-filtr-item"
     data-category='{{ delimit $dataCategories "," }}'>
  <div class="card mt-3">
    {{ with .image }}
      {{ $val := . }}
      {{ if hasPrefix $val "/" }}
        <img class="card-img-top" loading="lazy" src="{{ $val | relURL }}" alt="{{ $.name }}">
      {{ else }}
        {{ $path := printf "images/sections/accomplishments/%s" $val }}
        {{ with resources.Get $path }}
          {{ $ext := lower (path.Ext .Name) }}
          {{ if eq $ext ".gif" }}
            <img class="card-img-top" loading="lazy" src="{{ .RelPermalink }}" alt="{{ $.name }}">
          {{ else }}
            {{ $hero := .Fit "1200x630 q80 webp" }}
            <img class="card-img-top" loading="lazy" src="{{ $hero.RelPermalink }}" alt="{{ $.name }}">
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}

    <div class="card-body">
      <h5 class="card-title mt-2 mb-1">{{ .name }}</h5>
      <div class="sub-title mb-2">
        {{ with .organization }}<a href="{{ .url }}" target="_blank" rel="noopener">{{ .name }}</a>{{ end }}
        {{ with .timeline }}<span class="ms-2">{{ . }}</span>{{ end }}
      </div>
      {{ with .courseOverview }}<p>{{ . | markdownify }}</p>{{ end }}
    </div>

    {{ if .certificateURL }}
      <div class="card-footer">
        <a class="btn btn-outline-info" href="{{ .certificateURL }}" target="_blank" rel="noopener">
          {{ i18n "project_details" }}
        </a>
      </div>
    {{ end }}
  </div>
</div> -->


<!-- {{/* Build category tokens for filtering (like publications) */}}
{{ $dataCategories:= slice "ac-all" }}
{{ range .categories }}
  {{ $dataCategories = $dataCategories | append (printf "ac-%s" .) }}
{{ end }}

<style>
  /* Only affects this section */
  #accomplishment-card-holder .card-img-top{
    max-height:300px;
    width:100%;
    object-fit:cover;
  }
  #accomplishment-card-holder .card:hover .card-img-top{
    transform:none !important;
    transition:none !important;
  }
</style>

<div class="col-md-12 col-lg-6 p-2 ac-filtr-item"
     data-category='{{ delimit $dataCategories "," }}'>
  <div class="card mt-3">

    {{/* ---------- Full-width image on top ---------- */}}
    {{ with .image }}
      {{ $val := . }}

      {{/* Case 1: User provided a /static path (starts with "/") */}}
      {{ if hasPrefix $val "/" }}
        <img class="card-img-top" loading="lazy" src="{{ $val | relURL }}" alt="{{ $.name }}">

      {{/* Case 2: Image is in assets/images/sections/accomplishments/ */}}
      {{ else }}
        {{ $path := printf "images/sections/accomplishments/%s" $val }}
        {{ with resources.Get $path }}
          {{/* Keep GIFs animated: don’t transform */}}
          {{ $ext := lower (path.Ext .Name) }}
          {{ if eq $ext ".gif" }}
            <img class="card-img-top" loading="lazy" src="{{ .RelPermalink }}" alt="{{ $.name }}">
          {{ else }}
            {{/* Resize/fit to a nice hero aspect; change Fit/Resize to taste */}}
            {{ $hero := .Fit "1200x630 q80 webp" }}
            <img class="card-img-top" loading="lazy" src="{{ $hero.RelPermalink }}" alt="{{ $.name }}">
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}

    <div class="card-body">
      <h5 class="card-title mt-2 mb-1">{{ .name }}</h5>

      <div class="sub-title mb-2">
        {{ with .organization }}
          <a href="{{ .url }}" target="_blank" rel="noopener">{{ .name }}</a>
        {{ end }}
        {{ with .timeline }}
          <span class="ms-2">{{ . }}</span>
        {{ end }}
      </div>

      {{ with .courseOverview }}
        <p>{{ . | markdownify }}</p>
      {{ end }}
    </div>

    {{ if .certificateURL }}
      <div class="card-footer">
        <a class="btn btn-outline-info" href="{{ .certificateURL }}" target="_blank" rel="noopener">
          {{ i18n "project_details" }}
        </a>
      </div>
    {{ end }}
  </div>
</div> -->









<!-- <style>
  /* Only affects this section */
  #accomplishment-card-holder .card-img-top{
    max-height:300px;
    width:100%;
    object-fit:cover;
  }
  #accomplishment-card-holder .card:hover .card-img-top{
    transform:none !important;
    transition:none !important;
  }
</style>

<div class="col-md-12 col-lg-6 p-2">
  <div class="card mt-3">

    {{/* ---------- Full-width image on top ---------- */}}
    {{ with .image }}
      {{ $val := . }}

      {{/* Case 1: User provided a /static path (starts with "/") */}}
      {{ if hasPrefix $val "/" }}
        <img class="card-img-top" loading="lazy" src="{{ $val | relURL }}" alt="{{ $.name }}">

      {{/* Case 2: Image is in assets/images/sections/accomplishments/ */}}
      {{ else }}
        {{ $path := printf "images/sections/accomplishments/%s" $val }}
        {{ with resources.Get $path }}
          {{/* Keep GIFs animated: don’t transform */}}
          {{ $ext := lower (path.Ext .Name) }}
          {{ if eq $ext ".gif" }}
            <img class="card-img-top" loading="lazy" src="{{ .RelPermalink }}" alt="{{ $.name }}">
          {{ else }}
            {{/* Resize/fit to a nice hero aspect; change Fit/Resize to taste */}}
            {{ $hero := .Fit "1200x630 q80 webp" }}
            <img class="card-img-top" loading="lazy" src="{{ $hero.RelPermalink }}" alt="{{ $.name }}">
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}

    <div class="card-body">
      <h5 class="card-title mt-2 mb-1">{{ .name }}</h5>

      <div class="sub-title mb-2">
        {{ with .organization }}
          <a href="{{ .url }}" target="_blank" rel="noopener">{{ .name }}</a>
        {{ end }}
        {{ with .timeline }}
          <span class="ms-2">{{ . }}</span>
        {{ end }}
      </div>

      {{ with .courseOverview }}
        <p>{{ . | markdownify }}</p>
      {{ end }}
    </div>

    {{ if .certificateURL }}
      <div class="card-footer">
        <a class="btn btn-outline-info" href="{{ .certificateURL }}" target="_blank" rel="noopener">
          {{ i18n "project_details" }}
        </a>
      </div>
    {{ end }}
  </div>
</div> -->



<!-- To get two columns for image and text -->
<!-- <div class="col-md-12 col-lg-6 p-2">
  <div class="card mt-3">
    <div class="card-header">
      <h5 class="card-title mb-0">{{ .name }}</h5>
      <div class="sub-title">
        {{ with .organization }}
          <span><a href="{{ .url }}" title="{{ .name }}" target="_blank" rel="noopener">{{ .name }}</a></span>
        {{ end }}
        {{ with .timeline }}
          <span class="ms-2">{{ . }}</span>
        {{ end }}
      </div>
    </div>

    <div class="card-body">
      <div class="row g-3 align-items-center">
        {{ with .image }}
          {{/* If value starts with "/", it's a /static path. Otherwise try assets pipeline. */}}
          {{ if hasPrefix . "/" }}
            <div class="col-12 col-md-4 text-center">
              <img class="img-fluid rounded" loading="lazy" src="{{ . | relURL }}" alt="{{ $.name }}" style="max-height:120px;object-fit:contain;">
            </div>
          {{ else }}
            {{ $path := printf "images/sections/accomplishments/%s" . }}
            {{ with resources.Get $path }}
              {{ $thumb := .Resize "600x q80 webp" }}
              <div class="col-12 col-md-4 text-center">
                <img class="img-fluid rounded" loading="lazy" src="{{ $thumb.RelPermalink }}" alt="{{ $.name }}" style="max-height:120px;object-fit:contain;">
              </div>
            {{ end }}
          {{ end }}
        {{ end }}
        

        <div class="{{ if .image }}col-12 col-md-8{{ else }}col-12{{ end }}">
          {{ with .courseOverview }}
            <p>{{ . | markdownify }}</p>
          {{ end }}
        </div>
      </div>
    </div>

    <div class="card-footer">
      {{ if .certificateURL }}
        <a class="btn btn-outline-info ms-1 ps-2 mb-2" href="{{ .certificateURL }}" target="_blank" rel="noopener" role="button">
          {{ i18n "view_certificate" }}
        </a>
      {{ end }}
    </div>
  </div>
</div> -->
